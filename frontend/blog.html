<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Space Blog - Space Alone</title>
        <link
            rel="icon"
            type="image/svg+xml"
            href="data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3CradialGradient id='planetGrad' cx='40%25' cy='40%25'%3E%3Cstop offset='0%25' style='stop-color:%2300f3ff;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%230088cc;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23004466;stop-opacity:1' /%3E%3C/radialGradient%3E%3ClinearGradient id='ringGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23b800ff;stop-opacity:0.9' /%3E%3Cstop offset='50%25' style='stop-color:%238800cc;stop-opacity:0.7' /%3E%3Cstop offset='100%25' style='stop-color:%236600aa;stop-opacity:0.5' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='100' cy='100' r='45' fill='url(%23planetGrad)'/%3E%3Cellipse cx='100' cy='100' rx='75' ry='20' fill='none' stroke='url(%23ringGrad)' stroke-width='8' opacity='0.8' transform='rotate(-15 100 100)'/%3E%3Ctext x='100' y='108' font-family='Arial' font-size='32' font-weight='bold' fill='%23ffffff' text-anchor='middle' opacity='0.9'%3ESA%3C/text%3E%3C/svg%3E"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Space+Grotesk:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./src/styles/main.css" />
        <style>
.blog-hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    padding: 60px 20px;
    margin-bottom: 50px; 
    overflow: hidden;
}

.section-divider {
    width: 100%;
    height: 2px;
    background: linear-gradient(
        90deg,
        transparent,
        var(--neon-blue),
        transparent
    );
    margin: 60px auto;
    position: relative;
    max-width: 1200px;
}

.section-divider::before {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    background: var(--neon-blue);
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) rotate(45deg);
    box-shadow: 0 0 15px var(--neon-blue);
}


@media (max-width: 768px) {
    .blog-hero {
        min-height: 100vh;
        margin-bottom: 30px;
    }

    .section-divider {
        margin: 30px auto;
    }

    .blog-container {
        margin-top: 30px;
    }
        .share-modal-content {
        padding: 20px;
    }
    .share-modal-content .share-modal-header h3 {
        font-size: 1.5rem;
    }
    .share-platform-btn {
        font-size: 0.9rem;
        padding: 5px 10px;
    }
    .share-platform-btn svg {
        width: 10px;
        height: 10px;
    }
    .share-platforms {
        grid-template-columns: 1fr;
        gap:5 px;
    }   
    
}

@media (max-width: 480px) {
    .blog-hero {
        min-height: 100vh;
        margin-bottom: 20px;
    }

    .section-divider {
        margin: 20px auto;
    }

    .blog-container {
        margin-top: 20px;
    }
    .share-modal-content {
        padding: 20px;
    }
    .share-modal-content .share-modal-header h3 {
        font-size: 1.5rem;
    }
    .share-platform-btn {
        font-size: 0.9rem;
        padding: 5px 10px;
    }
    .share-platform-btn svg {
        width: 10px;
        height: 10px;
    }
    .share-platforms {
        grid-template-columns: 1fr;
        gap:5 px;
    }   
    
}

            .blog-hero::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background:
                    linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
                    url("https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=1200")
                        center/cover fixed;
                z-index: -1;
            }

            .blog-hero .hero-content {
                position: relative;
                z-index: 2;
            }

            .blog-hero .hero-title {
                font-size: clamp(2.5rem, 6vw, 4.5rem);
                margin-bottom: 20px;
                text-shadow: 0 0 40px rgba(0, 243, 255, 0.6);
                letter-spacing: 2px;
            }

            .blog-hero .hero-subtitle {
                font-size: clamp(1rem, 2.5vw, 1.5rem);
                color: var(--text-gray);
                max-width: 700px;
                margin: 0 auto;
            }
.blog-container {
    max-width: 1400px;
    margin: 40px auto 0; 
    padding: 0 20px 100px;
}

            .blog-grid-full {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
                gap: 35px;
                margin-bottom: 60px;
            }

            .blog-card-full {
                background: linear-gradient(
                    135deg,
                    rgba(10, 10, 10, 0.95) 0%,
                    rgba(13, 17, 23, 0.95) 100%
                );
                border: 1px solid var(--border-blue);
                border-radius: var(--radius-md);
                padding: 0;
                transition: all var(--transition-base);
                cursor: pointer;
                position: relative;
                overflow: hidden;
                display: flex;
                flex-direction: column;
            }

            .blog-card-full:hover {
                transform: translateY(-10px);
                border-color: var(--neon-blue);
                box-shadow: 0 20px 50px rgba(0, 243, 255, 0.4);
            }

            .blog-card-image {
                width: 100%;
                height: 220px;
                object-fit: cover;
                border-radius: var(--radius-md) var(--radius-md) 0 0;
            }

            .blog-card-content {
                padding: 30px;
                flex: 1;
                display: flex;
                flex-direction: column;
            }

            .blog-card-full h3 {
                color: var(--neon-blue);
                font-size: 1.5rem;
                margin-bottom: 15px;
                line-height: 1.3;
            }

            .blog-meta {
                display: flex;
                gap: 15px;
                margin-bottom: 15px;
                font-size: 0.85rem;
                color: rgba(255, 255, 255, 0.5);
                align-items: center;
            }

            .blog-meta svg {
                vertical-align: middle;
                margin-right: 5px;
            }

            .blog-excerpt {
                color: var(--text-gray);
                line-height: 1.8;
                margin-bottom: 20px;
                flex: 1;
            }

            .blog-actions {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding-top: 20px;
                border-top: 1px solid var(--border-blue);
                margin-top: auto;
            }

            .blog-read-more {
                color: var(--neon-blue);
                text-decoration: none;
                font-weight: 600;
                display: inline-flex;
                align-items: center;
                gap: 8px;
                transition: var(--transition-base);
            }

            .blog-read-more:hover {
                gap: 12px;
                color: var(--light-blue);
            }

            .blog-interaction {
                display: flex;
                gap: 20px;
                align-items: center;
            }

            .interaction-btn {
                display: flex;
                align-items: center;
                gap: 6px;
                background: transparent;
                border: none;
                color: rgba(255, 255, 255, 0.6);
                cursor: pointer;
                transition: var(--transition-base);
                font-size: 0.9rem;
                padding: 8px 12px;
                border-radius: 8px;
            }

            .interaction-btn:hover {
                color: var(--neon-blue);
                background: rgba(0, 243, 255, 0.1);
            }

            .interaction-btn.liked {
                color: #ff006e;
            }

            .interaction-btn svg {
                width: 18px;
                height: 18px;
            }

            .load-more-container {
                text-align: center;
                margin-top: 40px;
            }

            .btn-load-more {
                background: transparent;
                color: var(--neon-blue);
                border: 2px solid var(--neon-blue);
                padding: 15px 40px;
                border-radius: 50px;
                cursor: pointer;
                transition: all var(--transition-base);
                font-weight: 600;
                font-size: 1rem;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            .btn-load-more:hover:not(:disabled) {
                background: var(--neon-blue);
                color: var(--space-black);
                box-shadow: var(--shadow-glow);
            }

            .btn-load-more:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

     
            .share-modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                backdrop-filter: blur(10px);
                z-index: 2000;
                justify-content: center;
                align-items: center;
            }

            .share-modal.active {
                display: flex;
            }

            .share-modal-content {
                background: linear-gradient(
                    135deg,
                    rgba(13, 17, 23, 0.98),
                    rgba(10, 10, 10, 0.98)
                );
                border: 2px solid var(--border-blue);
                border-radius: 20px;
                padding: 40px;
                max-width: 500px;
                width: 90%;
                position: relative;
                animation: modalSlideIn 0.3s ease;
            }

            @keyframes modalSlideIn {
                from {
                    transform: translateY(-50px);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            .share-modal-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 30px;
            }

            .share-modal-header h3 {
                font-size: 1.8rem;
                color: var(--neon-blue);
            }

            .close-modal {
                background: transparent;
                border: none;
                color: white;
                font-size: 2rem;
                cursor: pointer;
                transition: var(--transition-base);
                width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
            }

            .close-modal:hover {
                background: rgba(255, 255, 255, 0.1);
                color: var(--neon-blue);
            }

            .share-platforms {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .share-platform-btn {
                display: flex;
                align-items: center;
                gap: 12px;
                padding: 15px 20px;
                background: rgba(0, 243, 255, 0.05);
                border: 1px solid var(--border-blue);
                border-radius: 12px;
                color: white;
                text-decoration: none;
                transition: var(--transition-base);
                cursor: pointer;
                font-size: 1rem;
            }

            .share-platform-btn:hover {
                background: rgba(0, 243, 255, 0.15);
                border-color: var(--neon-blue);
                transform: translateY(-3px);
                box-shadow: 0 10px 25px rgba(0, 243, 255, 0.3);
                color: var(--neon-blue);
            }

            .share-platform-btn svg {
                width: 24px;
                height: 24px;
            }

            .share-platform-btn.copied {
                background: rgba(34, 197, 94, 0.15);
                border-color: #22c55e;
                color: #22c55e;
            }


.mobile-menu-toggle {
  display: none;
  flex-direction: column;
  gap: 5px;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 8px;
  z-index: 1001;
  position: relative;
}

.mobile-menu-toggle span {
  width: 28px;
  height: 3px;
  background: var(--neon-blue);
  border-radius: 3px;
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  transform-origin: center;
  box-shadow: 0 0 8px rgba(0, 243, 255, 0.4);
}

.mobile-menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(8px, 8px);
}

.mobile-menu-toggle.active span:nth-child(2) {
  opacity: 0;
  transform: translateX(20px);
}

.mobile-menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -7px);
}


@media (max-width: 768px) {
  .mobile-menu-toggle {
    display: flex;
    margin-left: auto;
  }

  #nav-links {
    position: fixed;
    top: 70px;
    left: 0;
    right: 0;
    width: 100%;
    height: calc(100vh - 70px);
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(10px);
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 2rem 1rem;
    border-top: 2px solid var(--neon-blue);
    box-shadow: 0 5px 20px rgba(0, 243, 255, 0.2);
    
   transform: translateY(-100%);
    transition: transform 0.2s ease-out; 
    pointer-events: none;
  }
  
  #nav-links.active {
    transform: translateY(0);
    pointer-events: auto;
  }
  
  .nav-link-space {
    width: 100%;
    text-align: center;
    padding: 1rem;
    border-bottom: 1px solid rgba(0, 243, 255, 0.1);
    display: block;
  }
  
  .nav-link-space:last-child {
    border-bottom: none;
  }
}
        </style>
    </head>
    <body>
       


    <nav class="glass-header" id="main-header">
        <div class="nav-container">
            <h3 class="logo">SPACE ALONE</h3>
            
      
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>

     
            <div class="nav-links" id="nav-links">
                <a href="/#home" class="nav-link-space active">Home</a>
                <a href="/#mysteries" class="nav-link-space">Mysteries</a>
                <a href="/#solar" class="nav-link-space">Solar System</a>
                <a href="/#nasa" class="nav-link-space">NASA Data</a>
                <a href="/#apod" class="nav-link-space">APOD</a>
                <a href="/#spacex" class="nav-link-space">SpaceX</a>
                <a href="/blog" class="nav-link-space">Blog</a>
            </div>
        </div>
    </nav>

        <section class="blog-hero">
            <div class="hero-content">
                <h1 class="hero-title text-gradient">Space Exploration Blog</h1>
                <p class="hero-subtitle">
                    Latest discoveries and cosmic insights from across the
                    universe
                </p>
            </div>
        </section>

        <div class="section-divider"></div>

        <div class="blog-container">
            <div class="blog-grid-full" id="blog-grid"></div>

            <div class="load-more-container">
                <button class="btn-load-more" id="load-more-btn">
                    Load More Posts
                </button>
            </div>
        </div>

    
        <div class="share-modal" id="share-modal">
            <div class="share-modal-content">
                <div class="share-modal-header">
                    <h3>Share this post</h3>
                    <button class="close-modal" id="close-modal-btn">
                        &times;
                    </button>
                </div>
                <div class="share-platforms">
                    <a
                        href="#"
                        class="share-platform-btn"
                        data-platform="twitter"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                            />
                        </svg>
                        Twitter
                    </a>
                    <a
                        href="#"
                        class="share-platform-btn"
                        data-platform="facebook"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                            />
                        </svg>
                        Facebook
                    </a>
                    <a
                        href="#"
                        class="share-platform-btn"
                        data-platform="linkedin"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                            />
                        </svg>
                        LinkedIn
                    </a>
                    <a
                        href="#"
                        class="share-platform-btn"
                        data-platform="reddit"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"
                            />
                        </svg>
                        Reddit
                    </a>
                    <a
                        href="#"
                        class="share-platform-btn"
                        data-platform="whatsapp"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"
                            />
                        </svg>
                        WhatsApp
                    </a>
                    <button class="share-platform-btn" id="copy-link-btn">
                        <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                        >
                            <path
                                d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
                            ></path>
                            <path
                                d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
                            ></path>
                        </svg>
                        <span class="copy-text">Copy Link</span>
                    </button>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-section">
                        <h4 class="text-gradient footer-title">SPACE ALONE</h4>
                        <p class="footer-text">
                            Exploring the universe through NASA's eyes.
                        </p>
                    </div>

                    <div class="footer-section">
                        <h5 class="footer-heading">Quick Links</h5>
                        <nav class="footer-links">
                            <a href="/">Home</a>
                            <a href="/#solar">Solar System</a>
                            <a href="/#nasa">NASA Data</a>
                            <a href="/blog.html">Blog</a>
                        </nav>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p>
                        &copy; 2025 Space Alone. Exploring the Universe
                        Together.
                    </p>
                </div>
            </div>
        </footer>

        <script src="./src/js/particles.js"></script>
        <script>
            const API_BASE = window.location.origin;
            let allPosts = [];
            let displayedPosts = 0;
            let currentSharePostId = null;
            const POSTS_PER_PAGE = 6;

            const blogImages = [
                "https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=400&h=250&fit=crop",
                "https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=400&h=250&fit=crop",
                "https://images.unsplash.com/photo-1543722530-d2c3201371e7?w=400&h=250&fit=crop",
                "https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3?w=400&h=250&fit=crop",
                "https://images.unsplash.com/photo-1464207687429-7505649dae38?w=400&h=250&fit=crop",
                "https://images.unsplash.com/photo-1506443432602-ac2fcd6f54e0?w=400&h=250&fit=crop",
            ];

            function escapeHtml(text) {
                const div = document.createElement("div");
                div.textContent = text;
                return div.innerHTML;
            }

            function getRandomImage() {
                return blogImages[
                    Math.floor(Math.random() * blogImages.length)
                ];
            }
function setupNavigation() {
    const navLinks = document.querySelectorAll('.nav-link-space');
    const mobileToggle = document.getElementById('mobile-menu-toggle');
    const navLinksContainer = document.getElementById('nav-links');
    
    if (mobileToggle && navLinksContainer) {
        mobileToggle.addEventListener('click', () => {
            mobileToggle.classList.toggle('active');
            navLinksContainer.classList.toggle('active');
        });
    }
    
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            if (href.startsWith('#')) {
                e.preventDefault();
                scrollToSection(href.substring(1));
                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                if (navLinksContainer) {
                    navLinksContainer.classList.remove('active');
                }
                if (mobileToggle) {
                    mobileToggle.classList.remove('active');
                }
            }
        });
    });
    
    let scrollTimeout;
    window.addEventListener('scroll', () => {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
            const sections = document.querySelectorAll('section[id]');
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (window.pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        }, 50);
    });
}

            function openShareModal(postId, postTitle) {
                currentSharePostId = postId;
                const modal = document.getElementById("share-modal");
                modal.classList.add("active");
                document.body.style.overflow = "hidden";

                const url = encodeURIComponent(
                    `${window.location.origin}/post?id=${postId}`,
                );
                const text = encodeURIComponent(postTitle);

                const platforms = {
                    twitter: `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
                    facebook: `https://www.facebook.com/sharer/sharer.php?u=${url}`,
                    linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${url}`,
                    reddit: `https://reddit.com/submit?url=${url}&title=${text}`,
                    whatsapp: `https://wa.me/?text=${text}%20${url}`,
                };

                document
                    .querySelectorAll(".share-platform-btn[data-platform]")
                    .forEach((btn) => {
                        const platform = btn.getAttribute("data-platform");
                        btn.onclick = async (e) => {
                            e.preventDefault();
                            await trackShare(postId, platform);
                            window.open(
                                platforms[platform],
                                "_blank",
                                "width=600,height=400",
                            );
                            setTimeout(() => {
                                updateShareCount(postId);
                            }, 500);
                        };
                    });
            }

            function closeShareModal() {
                const modal = document.getElementById("share-modal");
                modal.classList.remove("active");
                document.body.style.overflow = "";
                currentSharePostId = null;

           
                const copyBtn = document.getElementById("copy-link-btn");
                const copyText = copyBtn.querySelector(".copy-text");
                if (copyBtn && copyText) {
                    copyBtn.classList.remove("copied");
                    copyText.textContent = "Copy Link";
                }
            }

            function copyToClipboard() {
                const url = `${window.location.origin}/post?id=${currentSharePostId}`;
                const copyBtn = document.getElementById("copy-link-btn");
                const copyText = copyBtn.querySelector(".copy-text");

        
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard
                        .writeText(url)
                        .then(() => {
                            copyBtn.classList.add("copied");
                            copyText.textContent = "Copied to clipboard!";
                            trackShare(currentSharePostId, "copy_link");
                            setTimeout(() => {
                                updateShareCount(currentSharePostId);
                            }, 500);

                            setTimeout(() => {
                                copyBtn.classList.remove("copied");
                                copyText.textContent = "Copy Link";
                            }, 3000);
                        })
                        .catch((err) => {
                            console.error("Failed to copy:", err);
                            fallbackCopyToClipboard(url, copyBtn, copyText);
                        });
                } else {
                    fallbackCopyToClipboard(url, copyBtn, copyText);
                }
            }

            function fallbackCopyToClipboard(text, copyBtn, copyText) {
    
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-999999px";
                textArea.style.top = "-999999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();

                try {
                    document.execCommand("copy");
                    copyBtn.classList.add("copied");
                    copyText.textContent = "Copied to clipboard!";
                    trackShare(currentSharePostId, "copy_link");
                    setTimeout(() => {
                        updateShareCount(currentSharePostId);
                    }, 500);

                    setTimeout(() => {
                        copyBtn.classList.remove("copied");
                        copyText.textContent = "Copy Link";
                    }, 3000);
                } catch (err) {
                    console.error("Fallback copy failed:", err);
                    alert("Failed to copy link. Please copy manually: " + text);
                }

                document.body.removeChild(textArea);
            }

        
            document
                .getElementById("close-modal-btn")
                .addEventListener("click", (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    closeShareModal();
                });

    
            document
                .getElementById("copy-link-btn")
                .addEventListener("click", (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    copyToClipboard();
                });

 
            document
                .getElementById("share-modal")
                .addEventListener("click", (e) => {
                    if (e.target.id === "share-modal") {
                        closeShareModal();
                    }
                });

          
            document.addEventListener("keydown", (e) => {
                if (e.key === "Escape") {
                    closeShareModal();
                }
            });

       
            async function toggleLike(postId, button) {
                try {
                    const isLiked = button.classList.contains("liked");
                    const method = isLiked ? "DELETE" : "POST";

                    const response = await fetch(
                        `${API_BASE}/api/posts/${postId}/like`,
                        {
                            method: method,
                            headers: { "Content-Type": "application/json" },
                        },
                    );

                    if (response.ok) {
                        const data = await response.json();
                        button.classList.toggle("liked");
                        const countSpan = button.querySelector(".like-count");
                        if (countSpan) {
                            countSpan.textContent = data.likes || 0;
                        }
                    }
                } catch (error) {
                    console.error("Error toggling like:", error);
                }
            }

            async function trackShare(postId, platform) {
                try {
                    await fetch(`${API_BASE}/api/posts/${postId}/share`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ platform }),
                    });
                } catch (error) {
                    console.error("Error tracking share:", error);
                }
            }

            async function updateShareCount(postId) {
                try {
                    const response = await fetch(
                        `${API_BASE}/api/posts/${postId}/shares`,
                    );
                    if (response.ok) {
                        const data = await response.json();
                        const shareBtn = document.querySelector(
                            `[data-post-id="${postId}"].share-btn`,
                        );
                        if (shareBtn) {
                            const countSpan =
                                shareBtn.querySelector(".share-count");
                            if (countSpan) {
                                countSpan.textContent = data.count || 0;
                            }
                        }
                    }
                } catch (error) {
                    console.error("Error updating share count:", error);
                }
            }

            async function checkLikeStatus(postId, button) {
                try {
                    const response = await fetch(
                        `${API_BASE}/api/posts/${postId}/liked`,
                    );
                    if (response.ok) {
                        const data = await response.json();
                        if (data.liked) {
                            button.classList.add("liked");
                        }
                    }
                } catch (error) {
                    console.error("Error checking like status:", error);
                }
            }

            async function loadBlogPosts() {
                try {
                    const response = await fetch(`${API_BASE}/api/posts`);
                    if (!response.ok) throw new Error("Failed to fetch posts");

                    const data = await response.json();
                    if (data && data.posts && data.posts.length > 0) {
                        allPosts = data.posts;
                        displayPosts();
                    } else if (data && Array.isArray(data) && data.length > 0) {
                        allPosts = data;
                        displayPosts();
                    } else {
                        displayFallbackPosts();
                    }
                } catch (error) {
                    console.error("Error loading posts:", error);
                    displayFallbackPosts();
                }
            }

            function displayPosts() {
                const grid = document.getElementById("blog-grid");
                const loadMoreBtn = document.getElementById("load-more-btn");

                const postsToShow = allPosts.slice(
                    displayedPosts,
                    displayedPosts + POSTS_PER_PAGE,
                );

                postsToShow.forEach((post) => {
                    const card = createPostCard(post);
                    grid.appendChild(card);
                });

                displayedPosts += postsToShow.length;

                if (displayedPosts >= allPosts.length) {
                    loadMoreBtn.disabled = true;
                    loadMoreBtn.textContent = "No More Posts";
                }
            }

            function createPostCard(post) {
                const card = document.createElement("div");
                card.className = "blog-card-full";

                const excerpt =
                    post.content.length > 180
                        ? post.content.substring(0, 180) + "..."
                        : post.content;

                const likesCount = post.likes || 0;
                const sharesCount = post.shares || 0;

                card.innerHTML = `
                <img src="${getRandomImage()}" 
                     alt="${escapeHtml(post.title)}" 
                     class="blog-card-image"
                     onerror="this.src='https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=400&h=250&fit=crop'">
                <div class="blog-card-content">
                    <h3>${escapeHtml(post.title)}</h3>
                    <div class="blog-meta">
                        <span class="blog-date">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            ${new Date(post.created_at).toLocaleDateString(
                                "en-US",
                                {
                                    year: "numeric",
                                    month: "short",
                                    day: "numeric",
                                },
                            )}
                        </span>
                        ${post.author_name ? `<span>By ${escapeHtml(post.author_name)}</span>` : ""}
                    </div>
                    <p class="blog-excerpt">${escapeHtml(excerpt)}</p>
                    <div class="blog-actions">
                        <a href="/post?id=${post.id}" class="blog-read-more" onclick="event.stopPropagation();">
                            Read Full Article
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                <polyline points="12 5 19 12 12 19"></polyline>
                            </svg>
                        </a>
                        <div class="blog-interaction">
                            <button class="interaction-btn like-btn" data-post-id="${post.id}" onclick="event.stopPropagation();">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                                <span class="like-count">${likesCount}</span>
                            </button>
                            <button class="interaction-btn share-btn" data-post-id="${post.id}" data-post-title="${escapeHtml(post.title)}" onclick="event.stopPropagation();">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"></circle>
                                    <circle cx="6" cy="12" r="3"></circle>
                                    <circle cx="18" cy="19" r="3"></circle>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                                </svg>
                                <span class="share-count">${sharesCount}</span>
                            </button>
                        </div>
                    </div>
                </div>
            `;

      
                setTimeout(() => {
                    const likeBtn = card.querySelector(".like-btn");
                    const shareBtn = card.querySelector(".share-btn");

                    if (likeBtn) {
                        checkLikeStatus(post.id, likeBtn);
                        likeBtn.addEventListener("click", (e) => {
                            e.stopPropagation();
                            toggleLike(post.id, likeBtn);
                        });
                    }

                    if (shareBtn) {
                        shareBtn.addEventListener("click", (e) => {
                            e.stopPropagation();
                            openShareModal(post.id, post.title);
                        });
                    }
                }, 0);

 
                card.addEventListener("click", () => {
                    window.location.href = `/post?id=${post.id}`;
                });

                return card;
            }

            function displayFallbackPosts() {
                const fallbackPosts = [
                    {
                        id: 1,
                        title: "The Search for Extraterrestrial Life",
                        content:
                            "Scientists continue their quest to find signs of life beyond Earth. With advanced telescopes and space missions, we are exploring distant planets and moons that might harbor the conditions necessary for life. Recent discoveries of exoplanets in habitable zones have renewed excitement in the scientific community.",
                        created_at: "2025-01-15T10:00:00Z",
                        author_name: "Space Explorer",
                        likes: 42,
                        shares: 15,
                    },
                    {
                        id: 2,
                        title: "Understanding Black Holes",
                        content:
                            "Black holes remain one of the universe's greatest mysteries. These regions of spacetime exhibit such strong gravitational effects that nothing, not even light, can escape. Recent observations from the Event Horizon Telescope have provided unprecedented views of these cosmic phenomena.",
                        created_at: "2025-01-10T14:30:00Z",
                        author_name: "Cosmic Scientist",
                        likes: 38,
                        shares: 12,
                    },
                    {
                        id: 3,
                        title: "Journey to Mars: The Next Frontier",
                        content:
                            "Mars exploration has entered an exciting new phase with multiple rovers exploring the Red Planet. NASA's Perseverance rover is collecting samples that could reveal ancient microbial life. The mission represents a crucial step toward human exploration of Mars.",
                        created_at: "2025-01-05T09:15:00Z",
                        author_name: "Mars Explorer",
                        likes: 56,
                        shares: 23,
                    },
                    {
                        id: 4,
                        title: "The James Webb Space Telescope Revolution",
                        content:
                            "The James Webb Space Telescope is transforming our understanding of the early universe. Its infrared capabilities allow us to peer further back in time than ever before, revealing galaxies that formed just hundreds of millions of years after the Big Bang.",
                        created_at: "2024-12-28T11:20:00Z",
                        author_name: "Astronomy Today",
                        likes: 67,
                        shares: 31,
                    },
                    {
                        id: 5,
                        title: "Exploring Europa: Ocean Worlds Beyond Earth",
                        content:
                            "Jupiter's moon Europa harbors a vast ocean beneath its icy surface. This subsurface ocean could potentially support microbial life. NASA's upcoming Europa Clipper mission will investigate this fascinating moon and its potential for habitability.",
                        created_at: "2024-12-20T16:45:00Z",
                        author_name: "Deep Space Explorer",
                        likes: 44,
                        shares: 18,
                    },
                    {
                        id: 6,
                        title: "The Mysteries of Dark Matter and Dark Energy",
                        content:
                            "Dark matter and dark energy comprise about 95% of the universe, yet remain largely mysterious. Scientists are using advanced detectors and astronomical observations to unravel these cosmic enigmas that shape the structure and fate of our universe.",
                        created_at: "2024-12-15T08:30:00Z",
                        author_name: "Cosmology Insights",
                        likes: 51,
                        shares: 20,
                    },
                ];

                allPosts = fallbackPosts;
                displayPosts();
            }

            document
                .getElementById("load-more-btn")
                .addEventListener("click", () => {
                    displayPosts();
                });


            loadBlogPosts();
            setupNavigation();
        </script>
    
    </body>
</html>
